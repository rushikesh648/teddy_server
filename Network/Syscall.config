; Assuming R12 holds the socket FD from a previous socket() call

    ; ==================================
    ; Syscall: bind() (Syscall #49)
    ; bind(fd, &server_addr, addr_len)
    ; ==================================
    mov rax, 49         ; Syscall number for bind
    mov rdi, r12        ; Arg 1: Socket FD (from R12)
    mov rsi, server_addr; Arg 2: Address of sockaddr_in structure
    mov rdx, addr_len   ; Arg 3: Size of structure (16)
    syscall             ; Execute bind()
    
    ; The return value in RAX must be checked: RAX=0 means success.
    ; If RAX is negative, the bind failed (e.g., port already in use).

    cmp rax, 0
    jl bind_error       ; Jump if the call returned a negative error code
    
    ; continue to listen...
